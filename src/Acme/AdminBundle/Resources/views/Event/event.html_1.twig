{% extends 'adminbase.html.twig' %}

{% block body %}
    <h1>Termin bearbeiten</h1>
	<button class='btn-primar'>Erstellen</button>
	<div style="float: right; margin: 0 auto; width: 70px;"></div>
            <div class='bigbox' ng-app="textAngularTest"  ng-controller="myCtrl">
		<div class='box'>
                    {{ form_start(form) }}
                    {{ form_errors(form) }}	
                    {% for flashMessage in app.session.flashbag.get('notice') %}
                        <div class="message">
                            {{ flashMessage }}
                        </div>
                    {% endfor %}
                         {{ form_widget(form.title, { 'attr': {'class': 'text-input', 'style':'width: 100%; height: 1.7em; font-size: 1.2em; padding: 3px 8px; box-sizing: border-box;'} }) }}
                        <span><b>Permalink:</b> http://vfllohbruegge3.de/event/{{event.alias}}</span> <br/>
                        
                        
                        <div style='margin-top: 2em;'><text-angular ng-model="htmlVariable" >{{event.description|raw}}</text-angular></div>{{ form_widget(form.description, { 'attr': {'ng-bind': 'htmlVariable', 'style': 'display: none;'} }) }}
                </div>
                <div class='sidebar'>
			<div class='edit-box'>
			<h4>
				Veröffentlichen
			</h4>
                            <ul>
                                <li>Sichtbarkeit: <b>{{ event.group.groupname }}</b> <a ng-click="openTab('box two')">Bearbeiten</a></li>
                                    <div ng-show="isOpenTab('box two')">{{form_widget(form.group, {'class':'text-input'})}}</div>
                                <li>Erstellt am: <b>{{ event.createdDate|date('d.m.y') }}</b> <a ng-click="openTab('box three')">Bearbeiten</a></li>
                                    <div ng-show="isOpenTab('box three')" >{{ form_widget(form.createdDate) }}</div>
                                <li>Kategorie: <b>{{ event.eventcategory.title }}</b> <a ng-click="openTab('box four')">Bearbeiten</a></li>
                                    <div ng-show="isOpenTab('box four')" >{{form_widget(form.eventcategory, {'class':'text-input'})}}</div>
                            </ul>
                        </div>   
                        <div class='action-box'>
                            {{form_widget(form.save, { 'attr': {'class':'btn-primar', 'style':'float: left; background: #2ea2cc; color: #FAFAFA; font-weight: 300; min-height: 23px;'}} ) }}
                            <a id='bin' href="bin/{{ event.id }}">Papierkorb</a>
                            <div style="clear:both;">
                            </div>
                        </div>
                </div>
                <div class='sidebar'>
			<div class='edit-box'>
                            <h5>Startdatum</h5>
                            {{form_widget(form.startdate)}}
                            <h5>Enddatum</h5>
                            {{form_widget(form.enddate)}}
                            <h5>Nächstes Datum</h5>
                            {{form_widget(form.next)}}
                             <h5>Intervall</h5>
                            {{form_widget(form.intervall)}}                           
                        </div>
                </div>
                 <div class='sidebar'>
			<div class='edit-box'>
                            <h5>Straße</h5>
                            {{form_widget(form.address)}}
                            <h5>Postleitzahl</h5>
                            {{form_widget(form.zipcode)}}
                            <h5>Ort</h5>
                            {{form_widget(form.city)}}
                        </div>
                </div>
                    {{ form_end(form) }}
            </div>
{% endblock %}  